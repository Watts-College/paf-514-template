<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lab 03 - Regular Expressions</title>

<script src="lab-03-instructions_files/header-attrs-2.27/header-attrs.js"></script>
<script src="lab-03-instructions_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="lab-03-instructions_files/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="lab-03-instructions_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="lab-03-instructions_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="lab-03-instructions_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="lab-03-instructions_files/navigation-1.1/tabsets.js"></script>
<link href="lab-03-instructions_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="lab-03-instructions_files/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="labs.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div id="header">



<h1 class="title toc-ignore">Lab 03 - Regular Expressions</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#data" id="toc-data">DATA</a></li>
<li><a href="#lab-questions" id="toc-lab-questions">LAB QUESTIONS</a>
<ul>
<li><a href="#part-01-data-cleaning" id="toc-part-01-data-cleaning">Part
01: Data Cleaning</a>
<ul>
<li><a href="#step-01-text-pre-processing"
id="toc-step-01-text-pre-processing"><strong>Step 01:</strong> Text
Pre-Processing</a></li>
<li><a href="#step-02-create-a-performance-measure"
id="toc-step-02-create-a-performance-measure"><strong>Step 02:</strong>
Create a Performance Measure</a></li>
</ul></li>
<li><a href="#part-02-measuring-title-performance"
id="toc-part-02-measuring-title-performance">Part 02: Measuring Title
Performance</a>
<ul>
<li><a
href="#q1-a-how-many-titles-did-you-identify-within-each-category"
id="toc-q1-a-how-many-titles-did-you-identify-within-each-category"><strong>Q1-A:</strong>
How many titles did you identify within each category?</a></li>
<li><a
href="#q1-b-what-is-the-average-performance-clap-score-of-each-type-of-title"
id="toc-q1-b-what-is-the-average-performance-clap-score-of-each-type-of-title"><strong>Q1-B:</strong>
What is the average performance (clap score) of each type of
title?</a></li>
<li><a href="#q1-c-which-style-of-title-performs-the-best-overall"
id="toc-q1-c-which-style-of-title-performs-the-best-overall"><strong>Q1-C:</strong>
Which style of title performs the best overall?</a></li>
<li><a href="#q1-d-does-the-choice-of-average-matter"
id="toc-q1-d-does-the-choice-of-average-matter"><strong>Q1-D:</strong>
Does the choice of average matter?</a></li>
</ul></li>
<li><a href="#part-03-content-analysis"
id="toc-part-03-content-analysis">Part 03: Content Analysis</a>
<ul>
<li><a
href="#q2-a-what-are-the-25-most-common-words-used-across-all-titles"
id="toc-q2-a-what-are-the-25-most-common-words-used-across-all-titles"><strong>Q2-A:</strong>
What are the 25 most common words used across all titles?</a></li>
<li><a
href="#q2-b-what-are-the-25-most-common-words-used-within-each-style-category-above"
id="toc-q2-b-what-are-the-25-most-common-words-used-within-each-style-category-above"><strong>Q2-B:</strong>
What are the 25 most common words used within each style category
above?</a></li>
<li><a
href="#q2-c-what-is-the-most-common-word-used-at-the-beginning-of-a-title"
id="toc-q2-c-what-is-the-most-common-word-used-at-the-beginning-of-a-title"><strong>Q2-C:</strong>
What is the most common word used at the beginning of a title?</a></li>
<li><a
href="#q2-d-what-is-the-most-common-word-used-at-the-end-of-a-title"
id="toc-q2-d-what-is-the-most-common-word-used-at-the-end-of-a-title"><strong>Q2-D:</strong>
What is the most common word used at the end of a title?</a></li>
</ul></li>
<li><a href="#part-04-title-length" id="toc-part-04-title-length">Part
04: Title Length</a>
<ul>
<li><a href="#q3-a-do-titles-with-more-words-get-better-clap-scores"
id="toc-q3-a-do-titles-with-more-words-get-better-clap-scores"><strong>Q3-A:</strong>
Do titles with more words get better clap scores?</a></li>
<li><a href="#q3-b-do-longer-titles-get-better-clap-scores"
id="toc-q3-b-do-longer-titles-get-better-clap-scores"><strong>Q3-B:</strong>
Do longer titles get better clap scores?</a></li>
</ul></li>
</ul></li>
<li><a href="#challenge-questions"
id="toc-challenge-questions">CHALLENGE QUESTIONS</a>
<ul>
<li><a href="#challenge-q1" id="toc-challenge-q1">Challenge Q1</a></li>
<li><a href="#challenge-q2" id="toc-challenge-q2">Challenge Q2</a></li>
<li><a href="#challenge-q3" id="toc-challenge-q3">Challenge Q3</a></li>
</ul></li>
<li><a href="#submission-instructions"
id="toc-submission-instructions">Submission Instructions</a></li>
</ul>
</div>

<div id="data" class="section level1">
<h1>DATA</h1>
<p>This lab utilizes a <a
href="https://www.kaggle.com/dorianlazar/medium-articles-dataset/notebooks">free
Kaggle dataset</a> describing the popularity of articles on the blogging
platform Medium.</p>
<p>This data allows us to study user behavior related to the
<em>stickiness</em> of different styles of blog titles. Does the style
impact whether a reader is likely to click on the blog or rate it
favorably (the clap score)?</p>
<p>We will use the following fields:</p>
<ul>
<li><strong>title</strong> - the blog title</li>
<li><strong>subtitle</strong> - blog subtitle (optional)</li>
<li><strong>claps</strong> - the number of “likes” each article
received</li>
<li><strong>reading_time</strong> - time (in minutes) it takes to reach
each article</li>
<li><strong>publication</strong> - Medium community in which the blog
was published</li>
<li><strong>date</strong> - date of publication in style YYYY-MM-DD</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>URL <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/DS4PS/cpp-527-fall-2020/master/labs/data/medium-data-utf8-v2.csv&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">read.csv</span>( URL )</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>preview.these <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;title&quot;</span>, <span class="st">&quot;subtitle&quot;</span>, <span class="st">&quot;claps&quot;</span>, <span class="st">&quot;reading_time&quot;</span>, <span class="st">&quot;publication&quot;</span>, <span class="st">&quot;date&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">head</span>( d[preview.these] ) <span class="sc">%&gt;%</span> <span class="fu">pander</span>()</span></code></pre></div>
<table style="width:100%;">
<caption>Table continues below</caption>
<colgroup>
<col width="41%" />
<col width="30%" />
<col width="10%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">title</th>
<th align="center">subtitle</th>
<th align="center">claps</th>
<th align="center">reading_time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">A Beginner’s Guide to Word Embedding with Gensim
Word2Vec Model</td>
<td align="center"></td>
<td align="center">850</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">Hands-on Graph Neural Networks with PyTorch &amp;
PyTorch Geometric</td>
<td align="center"></td>
<td align="center">1100</td>
<td align="center">9</td>
</tr>
<tr class="odd">
<td align="center">How to Use ggplot2 in Python</td>
<td align="center">A Grammar of Graphics for Python</td>
<td align="center">767</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">Databricks: How to Save Files in CSV on Your
Local Computer</td>
<td align="center">When I work on Python projects dealing…</td>
<td align="center">354</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">A Step-by-Step Implementation of Gradient Descent and
Backpropagation</td>
<td align="center">One example of building neural…</td>
<td align="center">211</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">An Easy Introduction to SQL for Data Scientists</td>
<td align="center"></td>
<td align="center">563</td>
<td align="center">8</td>
</tr>
</tbody>
</table>
<table style="width:49%;">
<colgroup>
<col width="31%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">publication</th>
<th align="center">date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
<tr class="even">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
<tr class="odd">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
<tr class="even">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
<tr class="odd">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
<tr class="even">
<td align="center">Towards Data Science</td>
<td align="center">5/30/2019</td>
</tr>
</tbody>
</table>
<br>
<hr>
<p><br></p>
</div>
<div id="lab-questions" class="section level1">
<h1>LAB QUESTIONS</h1>
<div id="part-01-data-cleaning" class="section level2">
<h2>Part 01: Data Cleaning</h2>
<div id="step-01-text-pre-processing" class="section level3">
<h3><strong>Step 01:</strong> Text Pre-Processing</h3>
<p>The takeaway of PART 01 is that text is a nuanced type of data that
requires attention to some of the details. You will find lots of simple
text cleaning recipes that allow you to quickly convert regular text
into a format amenable to content analysis and modeling. The default
steps will work pretty well, but might not capture all of the edge
cases.</p>
<p>You will rarely have enough time to identify all of the edge cases
and <em>MOST</em> will not change the results of a study. Your level of
fine-tuning will depend on whether you are in preliminary and
exploratory phases of a study, or if you are fine-tuning something that
needs to be 100 percent precise.</p>
<p>The “regular expressions” framework is powerful syntax useful for
cleaning both text and numeric datasets, parsing data from strings, and
formatting output in reports. Although regex takes practice to master,
the important skill is understanding how to recognize common problems
encountered when working with text as data and using regular expressions
to fix them.</p>
<hr>
<p>Typesetting is the practice of laying out text on a page so that it
looks nice and is easy to read. Typesetting programs utilize many tools
that will improve readability or branding but might cause problems for
text analysis. For example, stylized quotation marks are not recognized
as quotes by R, letters with accents or foreign language symbols get
mistranslated into text when data is encoded as UTF-8 (the default
encoding when reading data files), and long dashes will look like the
subtraction operator but act like text.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="do">### stylized quote marks</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">#   &quot; ’ &quot; == &quot; &#39; &quot;    </span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#   [1] FALSE</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="do">### regular dash</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#   9 - 6</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#   [1] 3</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="do">### long dash</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#   9 – 6</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#   &gt; Error: unexpected invalid token in &quot;9 –&quot;</span></span></code></pre></div>
<div id="strange-spaces" class="section level4">
<h4>Strange Spaces</h4>
<p>Typesetting utilizes a variety of whitespace characters for aesthetic
purposes. Check out a list here: <a
href="https://en.wikipedia.org/wiki/Whitespace_character"
class="uri">https://en.wikipedia.org/wiki/Whitespace_character</a></p>
<p>Some of these special spaces appear randomly in some of the titles.
They will appear identical to a regular space the invisible eye but will
cause problems when you are trying to split titles into words.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="st">&quot;normal types of whitespace&quot;</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="fu">strsplit</span>( v, <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code></pre></div>
<pre><code>## [1] &quot;normal&quot;     &quot;types&quot;      &quot;of&quot;         &quot;whitespace&quot;</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># THE PROBLEM:</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="st">&quot;four different types of whitespace&quot;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">strsplit</span>( v, <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code></pre></div>
<pre><code>## [1] &quot;four&quot;                          &quot;different types of whitespace&quot;</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">cat</span>( v, <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span> )</span></code></pre></div>
<pre><code>## four different types of whitespace</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ ]&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )  <span class="co"># NORMAL SPACE </span></span></code></pre></div>
<pre><code>## [1] &quot;four _x_ different types of whitespace&quot;</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ ]&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )  <span class="co"># HAIRSPACE</span></span></code></pre></div>
<pre><code>## [1] &quot;four different _x_ types of whitespace&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ ]&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )  <span class="co"># EM QUAD SPACE</span></span></code></pre></div>
<pre><code>## [1] &quot;four different types _x_ of whitespace&quot;</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ ]&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )  <span class="co"># FIGURE SPACE</span></span></code></pre></div>
<pre><code>## [1] &quot;four different types of _x_ whitespace&quot;</code></pre>
<p><strong>Replacing special whitespaces with regular
spaces:</strong></p>
<p>Regular expressions have an operator <em>“\s”</em> that will match
most types of spaces including tabs and newlines. R has some equivalent
(but not identical) expressions that represent pre-defined sets of
characters like numbers, letters, punctuation, and spaces. Both work
fine in find-and-replace commands:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># TYPICAL FIND AND REPLACE STRATEGIES </span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )</span></code></pre></div>
<pre><code>## [1] &quot;four _x_ different _x_ types _x_ of whitespace&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[[:space:]]&quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )</span></code></pre></div>
<pre><code>## [1] &quot;four _x_ different _x_ types _x_ of whitespace&quot;</code></pre>
<p>Note that the recommended regular expression “recipes” don’t address
all of the whitespace problems here. They fail to identify the FIGURE
SPACE character (I have no idea why that one is special). As a result,
your processed text would look something like this:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># replace all spaces with regular space</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>v2 <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&quot;[[:space:]]&quot;</span>, <span class="st">&quot; &quot;</span>, v )</span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="fu">strsplit</span>( v2, <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code></pre></div>
<pre><code>## [1] &quot;four&quot;          &quot;different&quot;     &quot;types&quot;         &quot;of whitespace&quot;</code></pre>
<p>Your counts of “OF” and “WHITESPACE” would be off because these words
are not being successfully split. Start with the generic strategy and if
you are still finding cases where the string split operation is not
working properly then add new gsub() steps for those specific whitespace
characters.</p>
<p><strong>A note about the set operator:</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># STRINGS VERSUS SETS </span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>, <span class="st">&quot;abc&quot;</span> )</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="co"># ORDER MATTERS IN STRINGS  </span></span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;ab&quot;</span>,   <span class="st">&quot;X&quot;</span>, v )     <span class="co"># string &#39;ab&#39;</span></span></code></pre></div>
<pre><code>## [1] &quot;a&quot;  &quot;b&quot;  &quot;c&quot;  &quot;Xc&quot;</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ab]&quot;</span>, <span class="st">&quot;X&quot;</span>, v )     <span class="co"># set a OR b</span></span></code></pre></div>
<pre><code>## [1] &quot;X&quot;   &quot;X&quot;   &quot;c&quot;   &quot;XXc&quot;</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># NOT IN SETS </span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;ba&quot;</span>,   <span class="st">&quot;X&quot;</span>, v )     <span class="co"># b AND a in that order</span></span></code></pre></div>
<pre><code>## [1] &quot;a&quot;   &quot;b&quot;   &quot;c&quot;   &quot;abc&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ba]&quot;</span>, <span class="st">&quot;X&quot;</span>, v )     <span class="co"># b OR a</span></span></code></pre></div>
<pre><code>## [1] &quot;X&quot;   &quot;X&quot;   &quot;c&quot;   &quot;XXc&quot;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="co"># THESE ARE EQUIVALENT</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;b|a&quot;</span>,   <span class="st">&quot;X&quot;</span>, v )   <span class="co"># b OR a</span></span></code></pre></div>
<pre><code>## [1] &quot;X&quot;   &quot;X&quot;   &quot;c&quot;   &quot;XXc&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[ba]&quot;</span>,  <span class="st">&quot;X&quot;</span>, v )   <span class="co"># b OR a</span></span></code></pre></div>
<pre><code>## [1] &quot;X&quot;   &quot;X&quot;   &quot;c&quot;   &quot;XXc&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="co"># ALSO THESE </span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="st">&quot;four different types of whitespace&quot;</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;[    ]&quot;</span>,  <span class="st">&quot; _x_ &quot;</span>, v )   <span class="co"># set of four</span></span></code></pre></div>
<pre><code>## [1] &quot;four _x_ different _x_ types _x_ of _x_ whitespace&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot; | | | &quot;</span>, <span class="st">&quot; _x_ &quot;</span>, v )   <span class="co"># same using OR operators</span></span></code></pre></div>
<pre><code>## [1] &quot;four _x_ different _x_ types _x_ of _x_ whitespace&quot;</code></pre>
</div>
<div id="html-tags" class="section level4">
<h4>HTML Tags</h4>
<p>Some titles include HTML tags for emphasis. They will always occur at
the start and end of the titles:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="st">&quot;&lt;strong class=</span><span class="sc">\&quot;</span><span class="st">markup--strong markup--h3-strong</span><span class="sc">\&quot;</span><span class="st">&gt;Why 70% of Entrepreneurs Are Ending Their Pitches the Wrong Way&lt;/strong&gt;&quot;</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a><span class="st">&quot;&lt;strong class=</span><span class="sc">\&quot;</span><span class="st">markup--strong markup--h3-strong</span><span class="sc">\&quot;</span><span class="st">&gt;Tackle Negative Core Beliefs&lt;/strong&gt;&quot;</span></span></code></pre></div>
<p>Similarly, there are some stylized typesetting characters that might
appear as their unicode numbers instead of the text itself. For example,
hairspaces will load as the following in UTF-8:</p>
<pre><code>&lt;U+200A&gt;—&lt;U+200A&gt;</code></pre>
<p>In both cases we want to remove these <code>&lt;tags&gt;</code> since
their purpose is to format text, whereas we want to analyze the
underlying text itself.</p>
<p>Consider the following text and recipes for removing tags:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;TEXT_00 &lt;tag1&gt;TEXT_01&lt;/tag1&gt; &lt;tag2&gt;-&lt;tag2&gt; TEXT_02 &lt;tag3&gt;TEXT_03&lt;/tag3&gt;&quot;</span></span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="co"># RECIPE: </span></span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="co"># start of string: &lt;</span></span>
<span id="cb41-5"><a href="#cb41-5" tabindex="-1"></a><span class="co"># with any text in the middle: .</span></span>
<span id="cb41-6"><a href="#cb41-6" tabindex="-1"></a><span class="co"># length can vary: *</span></span>
<span id="cb41-7"><a href="#cb41-7" tabindex="-1"></a><span class="co"># end of string: &gt;</span></span>
<span id="cb41-8"><a href="#cb41-8" tabindex="-1"></a></span>
<span id="cb41-9"><a href="#cb41-9" tabindex="-1"></a><span class="co"># SHOULD RETURN: </span></span>
<span id="cb41-10"><a href="#cb41-10" tabindex="-1"></a><span class="co"># &quot;TEXT_00 TEXT_01 - TEXT_02 TEXT_03&quot;</span></span>
<span id="cb41-11"><a href="#cb41-11" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.*&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x )</span></code></pre></div>
<pre><code>## [1] &quot;TEXT_00 &quot;</code></pre>
<p>What is happening here? Instead of matching each tag individually the
expression matches the first <code>&lt;</code> and the last
<code>&gt;</code> and removes everything between those characters, which
includes most of the text.</p>
<p>How can we be a bit more conservative? We might use a quantifier to
limit the string length between tags:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.{1,15}&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x )</span></code></pre></div>
<pre><code>## [1] &quot;TEXT_00 TEXT_01- TEXT_02 TEXT_03&quot;</code></pre>
<p>But note that some HTML tags are quite long so this approach does not
generalize well.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="st">&quot;&lt;strong class=markup--strong markup--h3-strong&gt;Why 70% of Entrepreneurs Are Ending Their Pitches the Wrong Way&lt;/strong&gt;&quot;</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="st">&quot;TEXT_00 &lt;U+200A&gt;T2&lt;U+200A&gt; TEXT_02&quot;</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.{1,20}&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x1 )   <span class="co"># misses one tag</span></span></code></pre></div>
<pre><code>## [1] &quot;&lt;strong class=markup--strong markup--h3-strong&gt;Why 70% of Entrepreneurs Are Ending Their Pitches the Wrong Way&quot;</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.{1,20}&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x2 )   <span class="co"># removes text </span></span></code></pre></div>
<pre><code>## [1] &quot;TEXT_00  TEXT_02&quot;</code></pre>
<p>Another strategy might be to create a list of all tag types since
removing the end tag first solves the problem:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;&lt;strong class=markup--strong markup--h3-strong&gt;Why 70% of Entrepreneurs Are Ending Their Pitches the Wrong Way&lt;/strong&gt;&quot;</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a>x1 <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&quot;&lt;/strong&gt;&quot;</span>, <span class="st">&quot;&quot;</span>,  x )   </span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a>x2 <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&quot;&lt;strong.*&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x1 )  </span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a>x2</span></code></pre></div>
<pre><code>## [1] &quot;Why 70% of Entrepreneurs Are Ending Their Pitches the Wrong Way&quot;</code></pre>
<p>But there are LOTS of HTML tags, and we would still have issues if
there are multiple HTML tags present in the same title. So this strategy
also does not generalize well.</p>
<p>Instead, regular expressions have a way to modulate <a
href="https://watts-college.github.io/paf-514-template/lectures/string-processing.html#greedy-vs-reluctant-search">GREEDY
versus RELUCTANT searches</a>:</p>
<p>Greedy search matches the start of the search string first (the &lt;
part of the tag) then goes to the end of the string and starts working
backwards, looking for the end part of the search string (the &gt; part
of the tag). Once it finds the first match it stops and replaces
EVERYTHING inbetween.</p>
<p>The reluctant search, on the other hand, will identify the first part
of the search string then keep moving forward until it finds the first
instance of the <code>&gt;</code> tag, and only remove the text between.
It thus can identify multiple matches within the same string and will be
much more conservative about what is removed.</p>
<pre><code>TEXT_00 &lt;tag1&gt;TEXT_01&lt;tag1&gt; TEXT_02
        \__r_/       \__r_/          r = reluctant search
        \________g________/          g = greedy search</code></pre>
<p>The differences in expressions are:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;TEXT_00 &lt;tag1&gt;TEXT_01&lt;tag1&gt; TEXT_02&quot;</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.*&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x )    <span class="co"># greedy search</span></span></code></pre></div>
<pre><code>## [1] &quot;TEXT_00  TEXT_02&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="fu">gsub</span>( <span class="st">&quot;&lt;.*?&gt;&quot;</span>, <span class="st">&quot;&quot;</span>, x )   <span class="co"># reluctant search</span></span></code></pre></div>
<pre><code>## [1] &quot;TEXT_00 TEXT_01 TEXT_02&quot;</code></pre>
</div>
<div id="non-ascii-text" class="section level4">
<h4>Non-Ascii Text</h4>
<p>Many text sources will use encodings that not only include typeset
characters, but also letters with special accents or symbols from
foreign languages.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="do">## Text with non-latin ascii characters </span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;Ekstr\u00f8m&quot;</span>, <span class="st">&quot;J\u00f6reskog&quot;</span>, <span class="st">&quot;bi\u00dfchen Z\u00fcrcher&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Ekstrøm&quot;         &quot;Jöreskog&quot;        &quot;bißchen Zürcher&quot;</code></pre>
<p>It is problematic mostly when you are trying to count occurrences of
things:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="st">&quot;San José&quot;</span> <span class="sc">==</span> <span class="st">&quot;San Jose&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>The fix would be to go through and figure out every single
substitution necessary to convert the text to a basic Latin encoding,
which would be quite onerous.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&#39;é&#39;</span>, <span class="st">&#39;e&#39;</span>, x )</span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&#39;ø&#39;</span>, <span class="st">&#39;o&#39;</span>, x )</span></code></pre></div>
<p>Fortunately these libraries have already been built, making the
substitutions quite simple:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Ekstr\u00f8m&quot;</span>, <span class="st">&quot;J\u00f6reskog&quot;</span>, <span class="st">&quot;bi\u00dfchen Z\u00fcrcher&quot;</span>)</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Ekstrøm&quot;         &quot;Jöreskog&quot;        &quot;bißchen Zürcher&quot;</span></span>
<span id="cb61-3"><a href="#cb61-3" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" tabindex="-1"></a>stringi<span class="sc">::</span><span class="fu">stri_trans_general</span>( x, <span class="st">&quot;latin-ascii&quot;</span> )</span></code></pre></div>
<pre><code>## [1] &quot;Ekstrom&quot;          &quot;Joreskog&quot;         &quot;bisschen Zurcher&quot;</code></pre>
</div>
<div id="apply-pre-processing-steps" class="section level4">
<h4>Apply Pre-Processing Steps</h4>
<p>The titles in the current dataset are fairly clean but they still
need a little pre-processing to address some issues introduced by
typesetting:</p>
<ol style="list-style-type: decimal">
<li>Convert strange spaces to regular spaces</li>
<li>Remove HTML tags</li>
<li>Convert all text to a Latin ASCII encoding</li>
</ol>
<br>
<hr>
<p><br></p>
</div>
</div>
<div id="step-02-create-a-performance-measure" class="section level3">
<h3><strong>Step 02:</strong> Create a Performance Measure</h3>
<p>We can track article performance in many ways. This dataset contains
“claps”, which are the equivalent of a thumbs-up or like on other
platforms.</p>
<p>It also contains a responses category, but that is a little more
complicated to interpret because comment might be asking for
clarification because the article was poorly-written or arguing a
counter-point becaue the article was controversial.</p>
<p>We will use <strong>claps</strong> to measure article popularity, but
note the skew in the raw measure:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="fu">hist</span>( d<span class="sc">$</span>clap, <span class="at">main=</span><span class="st">&quot;Raw Clap Count&quot;</span>,</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>      <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">950</span>), <span class="at">breaks=</span><span class="dv">5000</span>, <span class="at">col=</span><span class="st">&quot;gray20&quot;</span>, <span class="at">border=</span><span class="st">&quot;white&quot;</span> )</span></code></pre></div>
<p><img src="lab-03-instructions_files/figure-html/unnamed-chunk-17-1.png" width="960" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">hist</span>( <span class="fu">log10</span>(d<span class="sc">$</span>clap<span class="sc">+</span><span class="dv">1</span>), <span class="at">main=</span><span class="st">&quot;Logged Clap Score&quot;</span>,</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>      <span class="at">col=</span><span class="st">&quot;gray20&quot;</span>, <span class="at">border=</span><span class="st">&quot;white&quot;</span>, <span class="at">breaks=</span><span class="dv">100</span> )</span></code></pre></div>
<p><img src="lab-03-instructions_files/figure-html/unnamed-chunk-17-2.png" width="960" /></p>
<p>Create a new <strong>clap score</strong> to measure performance using
the following log transformation:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a>d<span class="sc">$</span>clap.score <span class="ot">&lt;-</span> <span class="fu">log10</span>( d<span class="sc">$</span>clap <span class="sc">+</span> <span class="dv">1</span> )</span></code></pre></div>
<br>
<hr>
<p><br></p>
<p><strong>Create your clap score, then answer Q1A-Q1D using the clean
title strings.</strong></p>
<br>
<hr>
<p><br></p>
</div>
</div>
<div id="part-02-measuring-title-performance" class="section level2">
<h2>Part 02: Measuring Title Performance</h2>
<p>The list below contains examples of blogs belonging to groups of
title styles. Which title style consistently gets the most claps (clap
score)?</p>
<p><strong>Power Lists:</strong></p>
<ul>
<li>“Six Recommendations for Aspiring Data Scientists”<br />
</li>
<li>“13 Essential Newsletters for Data Scientists: Remastered”<br />
</li>
<li>“7 Machine Learning lessons that stuck with me this year”</li>
</ul>
<p><strong>How to guides:</strong></p>
<ul>
<li>“How to measure progress with outcomes”</li>
<li>“How We Dumped A/B Testing For Machine Learning”</li>
<li>“How To Be Productive Without Being Hard on Yourself”</li>
</ul>
<p><strong>Something Colon Something:</strong></p>
<ul>
<li>“Business Checkup: 10 Ways to Improve your 2020 Communications”</li>
<li>“ReFocus: Making Out-of-Focus Microscopy Images In-Focus Again”</li>
<li>“Review: SqueezeNet (Image Classification)”</li>
</ul>
<p><strong>Questions:</strong></p>
<ul>
<li>“Why Do Financial Models Break?”</li>
<li>“What Is Econometrics?”</li>
<li>“Can AI Robots Rebel Against Us, as Shown in Films?”</li>
<li>“Can You Invest Like a Top Fund Manager?”</li>
<li>“So you’re building a “Superhuman of X”?”</li>
</ul>
<p><strong>Other:</strong></p>
<p>All other titles not included in the categories above.</p>
<hr>
<p><strong>Create regular expressions that allow you to identify ALL of
the titles that belong in each category above</strong> (approximately
one expression per style category). The regular expressions will match
patterns that correspond to the stylistic genres of titles rather than
trying to match any exact title.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="co"># grepl returns TRUE for all cases that </span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a><span class="co"># match the expression and FALSE otherwise </span></span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a></span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a>category.members <span class="ot">&lt;-</span> <span class="fu">grepl</span>( <span class="st">&quot;expression&quot;</span>, titles )</span></code></pre></div>
<p>Note that some titles might belong to multiple styles. For this
assignment treat each style as discrete (a title uses the style or does
not) and ignore the fact that some titles might end up in a couple of
categories.</p>
<p>![images/title-sets.png]</p>
<p>Also note that the OTHER category will be defined as (NOT STYLE A)
AND (NOT STYLE B) etc, so you may need to review your compound regular
expressions.</p>
<blockquote>
<p><strong>For each of the styles above report the following while
showing your work:</strong></p>
</blockquote>
<div id="q1-a-how-many-titles-did-you-identify-within-each-category"
class="section level3">
<h3><strong>Q1-A:</strong> How many titles did you identify within each
category?</h3>
</div>
<div
id="q1-b-what-is-the-average-performance-clap-score-of-each-type-of-title"
class="section level3">
<h3><strong>Q1-B:</strong> What is the average performance (clap score)
of each type of title?</h3>
</div>
<div id="q1-c-which-style-of-title-performs-the-best-overall"
class="section level3">
<h3><strong>Q1-C:</strong> Which style of title performs the best
overall?</h3>
</div>
<div id="q1-d-does-the-choice-of-average-matter" class="section level3">
<h3><strong>Q1-D:</strong> Does the choice of average matter?</h3>
<p>The <strong>average</strong> generically means the central tendency
of a distribution. Note that the raw clap score (the unlogged version)
is very skewed, which can impact performance statistics. Does your
answer to Q1-C change if you examine the <strong>median</strong> instead
of the <strong>mean</strong>?</p>
<br>
<hr>
<p><br></p>
</div>
</div>
<div id="part-03-content-analysis" class="section level2">
<h2>Part 03: Content Analysis</h2>
<p>Conduct basic content analysis by splitting each title into a set of
distinct words, then answer the following:</p>
<div id="q2-a-what-are-the-25-most-common-words-used-across-all-titles"
class="section level3">
<h3><strong>Q2-A:</strong> What are the 25 most common words used across
all titles?</h3>
</div>
<div
id="q2-b-what-are-the-25-most-common-words-used-within-each-style-category-above"
class="section level3">
<h3><strong>Q2-B:</strong> What are the 25 most common words used within
each style category above?</h3>
</div>
<div
id="q2-c-what-is-the-most-common-word-used-at-the-beginning-of-a-title"
class="section level3">
<h3><strong>Q2-C:</strong> What is the most common word used at the
beginning of a title?</h3>
</div>
<div id="q2-d-what-is-the-most-common-word-used-at-the-end-of-a-title"
class="section level3">
<h3><strong>Q2-D:</strong> What is the most common word used at the end
of a title?</h3>
<p><em>Hint: be sure to convert all words to the same case so that
variants like “How” and “how” are treated the same.</em></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">tolower</span>( x )</span></code></pre></div>
<p><em>Hint: remove punctuation so that it does not impact your word
count.</em></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;Why Do Financial Models Break?&quot;</span></span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a><span class="fu">strsplit</span>( x, <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Why&quot;       &quot;Do&quot;        &quot;Financial&quot; &quot;Models&quot;    &quot;Break?&quot;</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">gsub</span>( <span class="st">&quot;[[:punct:]]&quot;</span>, <span class="st">&quot;&quot;</span>, x )</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a><span class="fu">strsplit</span>( x, <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code></pre></div>
<pre><code>## [1] &quot;Why&quot;       &quot;Do&quot;        &quot;Financial&quot; &quot;Models&quot;    &quot;Break&quot;</code></pre>
<br>
<hr>
<p><br></p>
<p>When splitting a title into words note that the string split function
returns a list.</p>
<p>This is a sensible data structure since you want to keep the atomized
words grouped by their original titles, but it makes it hard to do
content analysis:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a>first.six.titles <span class="ot">&lt;-</span> </span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;A Beginner’s Guide to Word Embedding with Gensim Word2Vec Model&quot;</span>, </span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a>    <span class="st">&quot;Hands-on Graph Neural Networks with PyTorch &amp; PyTorch Geometric&quot;</span>, </span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a>    <span class="st">&quot;How to Use ggplot2 in Python&quot;</span>, <span class="st">&quot;Databricks: How to Save Files in CSV on Your Local Computer&quot;</span>, </span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a>    <span class="st">&quot;A Step-by-Step Implementation of Gradient Descent and Backpropagation&quot;</span>, </span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a>    <span class="st">&quot;An Easy Introduction to SQL for Data Scientists&quot;</span>)</span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a></span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a>word.list <span class="ot">&lt;-</span> <span class="fu">strsplit</span>( first.six.titles, <span class="st">&quot; &quot;</span> )</span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a>word.list</span></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;A&quot;          &quot;Beginner’s&quot; &quot;Guide&quot;      &quot;to&quot;         &quot;Word&quot;      
##  [6] &quot;Embedding&quot;  &quot;with&quot;       &quot;Gensim&quot;     &quot;Word2Vec&quot;   &quot;Model&quot;     
## 
## [[2]]
## [1] &quot;Hands-on&quot;  &quot;Graph&quot;     &quot;Neural&quot;    &quot;Networks&quot;  &quot;with&quot;      &quot;PyTorch&quot;  
## [7] &quot;&amp;&quot;         &quot;PyTorch&quot;   &quot;Geometric&quot;
## 
## [[3]]
## [1] &quot;How&quot;     &quot;to&quot;      &quot;Use&quot;     &quot;ggplot2&quot; &quot;in&quot;      &quot;Python&quot; 
## 
## [[4]]
##  [1] &quot;Databricks:&quot; &quot;How&quot;         &quot;to&quot;          &quot;Save&quot;        &quot;Files&quot;      
##  [6] &quot;in&quot;          &quot;CSV&quot;         &quot;on&quot;          &quot;Your&quot;        &quot;Local&quot;      
## [11] &quot;Computer&quot;   
## 
## [[5]]
## [1] &quot;A&quot;               &quot;Step-by-Step&quot;    &quot;Implementation&quot;  &quot;of&quot;             
## [5] &quot;Gradient&quot;        &quot;Descent&quot;         &quot;and&quot;             &quot;Backpropagation&quot;
## 
## [[6]]
## [1] &quot;An&quot;           &quot;Easy&quot;         &quot;Introduction&quot; &quot;to&quot;           &quot;SQL&quot;         
## [6] &quot;for&quot;          &quot;Data&quot;         &quot;Scientists&quot;</code></pre>
<p>Similar to re-casting data types, you can convert the list to a
character vector using <strong>unlist()</strong>:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a>word.vector <span class="ot">&lt;-</span> <span class="fu">unlist</span>( word.list )</span>
<span id="cb74-2"><a href="#cb74-2" tabindex="-1"></a>word.vector</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot;               &quot;Beginner’s&quot;      &quot;Guide&quot;           &quot;to&quot;             
##  [5] &quot;Word&quot;            &quot;Embedding&quot;       &quot;with&quot;            &quot;Gensim&quot;         
##  [9] &quot;Word2Vec&quot;        &quot;Model&quot;           &quot;Hands-on&quot;        &quot;Graph&quot;          
## [13] &quot;Neural&quot;          &quot;Networks&quot;        &quot;with&quot;            &quot;PyTorch&quot;        
## [17] &quot;&amp;&quot;               &quot;PyTorch&quot;         &quot;Geometric&quot;       &quot;How&quot;            
## [21] &quot;to&quot;              &quot;Use&quot;             &quot;ggplot2&quot;         &quot;in&quot;             
## [25] &quot;Python&quot;          &quot;Databricks:&quot;     &quot;How&quot;             &quot;to&quot;             
## [29] &quot;Save&quot;            &quot;Files&quot;           &quot;in&quot;              &quot;CSV&quot;            
## [33] &quot;on&quot;              &quot;Your&quot;            &quot;Local&quot;           &quot;Computer&quot;       
## [37] &quot;A&quot;               &quot;Step-by-Step&quot;    &quot;Implementation&quot;  &quot;of&quot;             
## [41] &quot;Gradient&quot;        &quot;Descent&quot;         &quot;and&quot;             &quot;Backpropagation&quot;
## [45] &quot;An&quot;              &quot;Easy&quot;            &quot;Introduction&quot;    &quot;to&quot;             
## [49] &quot;SQL&quot;             &quot;for&quot;             &quot;Data&quot;            &quot;Scientists&quot;</code></pre>
<br>
<hr>
<p><br></p>
<p><strong>Counting the first or last words:</strong></p>
<p>These questions require you to break into the list version of the
results and extract either the first or last word from each.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="co"># x is a single title</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a>get_first_word <span class="ot">&lt;-</span> <span class="cf">function</span>( x )</span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a>{</span>
<span id="cb76-4"><a href="#cb76-4" tabindex="-1"></a>  <span class="co"># split title x into words</span></span>
<span id="cb76-5"><a href="#cb76-5" tabindex="-1"></a>  <span class="co"># unlist results</span></span>
<span id="cb76-6"><a href="#cb76-6" tabindex="-1"></a>  <span class="co"># select the first word</span></span>
<span id="cb76-7"><a href="#cb76-7" tabindex="-1"></a>  <span class="co"># return first word</span></span>
<span id="cb76-8"><a href="#cb76-8" tabindex="-1"></a>}</span>
<span id="cb76-9"><a href="#cb76-9" tabindex="-1"></a></span>
<span id="cb76-10"><a href="#cb76-10" tabindex="-1"></a><span class="co"># test your function</span></span>
<span id="cb76-11"><a href="#cb76-11" tabindex="-1"></a>x <span class="ot">&lt;-</span> d<span class="sc">$</span>title[<span class="dv">1</span>]</span>
<span id="cb76-12"><a href="#cb76-12" tabindex="-1"></a><span class="fu">get_first_word</span>( x )</span></code></pre></div>
<p>When results are stored as lists there is an extra step to the
analysis.</p>
<p>You need to <strong>apply</strong> your function to each element in
the list. There are several versions of apply() functions in R.</p>
<ul>
<li><strong>lapply()</strong> applies the function to a list and returns
a list</li>
<li><strong>sapply()</strong> applies the function to a list and returns
a vector</li>
</ul>
<p><strong>lapply version:</strong></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a><span class="co"># lapply applies the length function to each list element and returns a list</span></span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a>word.list <span class="ot">&lt;-</span> <span class="fu">strsplit</span>( first.six.titles, <span class="st">&quot; &quot;</span> )</span>
<span id="cb77-4"><a href="#cb77-4" tabindex="-1"></a>word.count <span class="ot">&lt;-</span> <span class="fu">lapply</span>( word.list, length )</span>
<span id="cb77-5"><a href="#cb77-5" tabindex="-1"></a>word.count <span class="ot">&lt;-</span> <span class="fu">unlist</span>( word.count ) <span class="co"># convert to a vector</span></span>
<span id="cb77-6"><a href="#cb77-6" tabindex="-1"></a>word.count</span></code></pre></div>
<pre><code>## [1] 10  9  6 11  8  8</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="co"># sapply applies the function to all titles in the vector</span></span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a><span class="co"># the default prints the original title with the return values</span></span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a>word.list <span class="ot">&lt;-</span> <span class="fu">strsplit</span>( first.six.titles, <span class="st">&quot; &quot;</span> )</span>
<span id="cb79-5"><a href="#cb79-5" tabindex="-1"></a><span class="fu">sapply</span>( word.list, length )</span></code></pre></div>
<pre><code>## [1] 10  9  6 11  8  8</code></pre>
<p>To create a vector of the first title words only would then be
something like:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="co"># add USE.NAMES=F to only print return values</span></span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a><span class="fu">sapply</span>( first.six.titles, get_first_word, <span class="at">USE.NAMES=</span><span class="cn">FALSE</span> )</span></code></pre></div>
<p>The apply functions are a more efficient version of loops - the
repetition of a single operation over and over on different data
elements. So the logic would be equivalent to this loop version:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb82-2"><a href="#cb82-2" tabindex="-1"></a><span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(d<span class="sc">$</span>title) )</span>
<span id="cb82-3"><a href="#cb82-3" tabindex="-1"></a>{</span>
<span id="cb82-4"><a href="#cb82-4" tabindex="-1"></a>  results[i] <span class="ot">&lt;-</span> <span class="fu">get_first_word</span>( d<span class="sc">$</span>title[i] )</span>
<span id="cb82-5"><a href="#cb82-5" tabindex="-1"></a>}</span></code></pre></div>
<p>Loops are effective for these types of analysis, but are extremely
inefficient as the size of your dataset grows and should be avoided when
possible.</p>
<p>And as you become more comfortable with lists they become easier to
manage:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" tabindex="-1"></a><span class="co"># efficiently core R version:  </span></span>
<span id="cb83-2"><a href="#cb83-2" tabindex="-1"></a>first.six.titles <span class="sc">%&gt;%</span> <span class="fu">strsplit</span>( <span class="st">&quot; &quot;</span> ) <span class="sc">%&gt;%</span> <span class="fu">sapply</span>( length )  </span></code></pre></div>
<pre><code>## [1] 10  9  6 11  8  8</code></pre>
<br>
<hr>
<p><br></p>
</div>
</div>
<div id="part-04-title-length" class="section level2">
<h2>Part 04: Title Length</h2>
<p>Does the length of the title matter?</p>
<div id="q3-a-do-titles-with-more-words-get-better-clap-scores"
class="section level3">
<h3><strong>Q3-A:</strong> Do titles with more words get better clap
scores?</h3>
<p>Count the number of words in each title.</p>
<p>Then examine the clap score as a function of word count by regressing
the clap score onto word count.</p>
<p>Visualize the relationship using a box and whisker plot:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a><span class="co"># creating random non-meaningful data for demo</span></span>
<span id="cb85-2"><a href="#cb85-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>( <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">size=</span><span class="dv">1000</span>, <span class="at">replace=</span><span class="cn">TRUE</span> )</span>
<span id="cb85-3"><a href="#cb85-3" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>x <span class="sc">-</span> <span class="fl">0.5</span><span class="sc">*</span>x<span class="sc">*</span>x <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>,<span class="dv">0</span>,<span class="dv">5</span>)</span>
<span id="cb85-4"><a href="#cb85-4" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="fu">factor</span>(x)</span>
<span id="cb85-5"><a href="#cb85-5" tabindex="-1"></a></span>
<span id="cb85-6"><a href="#cb85-6" tabindex="-1"></a><span class="co"># plot( factor, numeric.vector )</span></span>
<span id="cb85-7"><a href="#cb85-7" tabindex="-1"></a><span class="fu">plot</span>( f, y )</span></code></pre></div>
<p><img src="lab-03-instructions_files/figure-html/unnamed-chunk-31-1.png" width="960" /></p>
</div>
<div id="q3-b-do-longer-titles-get-better-clap-scores"
class="section level3">
<h3><strong>Q3-B:</strong> Do longer titles get better clap scores?</h3>
<p>Repeat the analysis from Q3-A but this time measuring title length by
the number of characters in the title.</p>
<br>
<hr>
<p><br></p>
</div>
</div>
</div>
<div id="challenge-questions" class="section level1">
<h1>CHALLENGE QUESTIONS</h1>
<div id="challenge-q1" class="section level2">
<h2>Challenge Q1</h2>
<p>Is it better to use common words or unique words in your title?</p>
<p>Create a count of the number of times each word appears in the
collection of titles.</p>
<p>Create a variable for the group of words that appear in the bottom
quartile (0-25%) of frequencies.</p>
<p>Create a variable for the group of words that appear in the top
quartile (75-100%) of frequencies.</p>
<p><strong>Q-A: Are simple titles better?</strong></p>
<p>Is performance a function of common words used?</p>
<p>Create a box and whisker plot showing clap scores as a function of
the number of common words used.</p>
<p>Regress the clap score onto the numer or proportion of common
words.</p>
<p><strong>Q-B: Are niche titles better?</strong></p>
<p>Is performance a function of uncommon words used?</p>
<p>Create a box and whisker plot showing clap scores as a function of
the number of uncommon words used.</p>
<p>Regress the clap score onto the numer or proportion of uncommon
words.</p>
<p><strong>Creating top and bottom percentile categories:</strong></p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="co"># x &lt;- sample( 1:100, 25, replace=T )</span></span>
<span id="cb86-2"><a href="#cb86-2" tabindex="-1"></a><span class="co"># dput( sort( x ) )</span></span>
<span id="cb86-3"><a href="#cb86-3" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="dt">L</span>, <span class="dv">2</span><span class="dt">L</span>, <span class="dv">19</span><span class="dt">L</span>, <span class="dv">19</span><span class="dt">L</span>, <span class="dv">20</span><span class="dt">L</span>, <span class="dv">21</span><span class="dt">L</span>, <span class="dv">23</span><span class="dt">L</span>, <span class="dv">24</span><span class="dt">L</span>, <span class="dv">31</span><span class="dt">L</span>, <span class="dv">34</span><span class="dt">L</span>, <span class="dv">36</span><span class="dt">L</span>, <span class="dv">40</span><span class="dt">L</span>, <span class="dv">48</span><span class="dt">L</span>, </span>
<span id="cb86-5"><a href="#cb86-5" tabindex="-1"></a><span class="dv">50</span><span class="dt">L</span>, <span class="dv">51</span><span class="dt">L</span>, <span class="dv">56</span><span class="dt">L</span>, <span class="dv">63</span><span class="dt">L</span>, <span class="dv">67</span><span class="dt">L</span>, <span class="dv">73</span><span class="dt">L</span>, <span class="dv">74</span><span class="dt">L</span>, <span class="dv">83</span><span class="dt">L</span>, <span class="dv">84</span><span class="dt">L</span>, <span class="dv">91</span><span class="dt">L</span>, <span class="dv">92</span><span class="dt">L</span>, <span class="dv">96</span><span class="dt">L</span>)</span>
<span id="cb86-6"><a href="#cb86-6" tabindex="-1"></a></span>
<span id="cb86-7"><a href="#cb86-7" tabindex="-1"></a><span class="fu">summary</span>( x )</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00   23.00   48.00   47.92   73.00   96.00</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="co"># get cut points</span></span>
<span id="cb88-2"><a href="#cb88-2" tabindex="-1"></a><span class="fu">quantile</span>( x, <span class="at">probs=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>,<span class="dv">1</span>) )</span></code></pre></div>
<pre><code>##   0%  25%  50%  75% 100% 
##    1   23   48   73   96</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a><span class="co"># rank x by order and percentile </span></span>
<span id="cb90-2"><a href="#cb90-2" tabindex="-1"></a>rank.x <span class="ot">&lt;-</span> <span class="fu">rank</span>(x)</span>
<span id="cb90-3"><a href="#cb90-3" tabindex="-1"></a>centile.x <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">*</span> ( <span class="fu">rank</span>(x) <span class="sc">/</span> <span class="fu">length</span>(x) )</span>
<span id="cb90-4"><a href="#cb90-4" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" tabindex="-1"></a><span class="co"># create variable by values break points</span></span>
<span id="cb90-6"><a href="#cb90-6" tabindex="-1"></a>x<span class="fl">.25</span> <span class="ot">&lt;-</span> <span class="fu">quantile</span>( x, <span class="at">probs=</span><span class="fl">0.25</span> )</span>
<span id="cb90-7"><a href="#cb90-7" tabindex="-1"></a>x<span class="fl">.75</span> <span class="ot">&lt;-</span> <span class="fu">quantile</span>( x, <span class="at">probs=</span><span class="fl">0.75</span> )</span>
<span id="cb90-8"><a href="#cb90-8" tabindex="-1"></a>top.<span class="fl">25.</span>x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>( x <span class="sc">&gt;=</span> x<span class="fl">.75</span> )  <span class="co"># x &gt;= 73</span></span>
<span id="cb90-9"><a href="#cb90-9" tabindex="-1"></a>bot.<span class="fl">25.</span>x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>( x <span class="sc">&lt;=</span> x<span class="fl">.25</span> )  <span class="co"># x &lt;= 23 </span></span>
<span id="cb90-10"><a href="#cb90-10" tabindex="-1"></a></span>
<span id="cb90-11"><a href="#cb90-11" tabindex="-1"></a><span class="co"># create variable by percentile break points </span></span>
<span id="cb90-12"><a href="#cb90-12" tabindex="-1"></a>top.<span class="fl">25.</span>x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>( centile.x <span class="sc">&gt;=</span> <span class="dv">75</span> )  <span class="co"># x &gt;= 73</span></span>
<span id="cb90-13"><a href="#cb90-13" tabindex="-1"></a>bot.<span class="fl">25.</span>x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>( centile.x <span class="sc">&lt;=</span> <span class="dv">25</span> )  <span class="co"># x &lt;= 23 </span></span>
<span id="cb90-14"><a href="#cb90-14" tabindex="-1"></a></span>
<span id="cb90-15"><a href="#cb90-15" tabindex="-1"></a><span class="fu">data.frame</span>( x, rank.x, centile.x, top.<span class="fl">25.</span>x, bot.<span class="fl">25.</span>x ) <span class="sc">%&gt;%</span> <span class="fu">pander</span>()</span></code></pre></div>
<table style="width:67%;">
<colgroup>
<col width="6%" />
<col width="12%" />
<col width="16%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">x</th>
<th align="center">rank.x</th>
<th align="center">centile.x</th>
<th align="center">top.25.x</th>
<th align="center">bot.25.x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">1</td>
<td align="center">4</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">2</td>
<td align="center">8</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">19</td>
<td align="center">3.5</td>
<td align="center">14</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">19</td>
<td align="center">3.5</td>
<td align="center">14</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">20</td>
<td align="center">5</td>
<td align="center">20</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">21</td>
<td align="center">6</td>
<td align="center">24</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">23</td>
<td align="center">7</td>
<td align="center">28</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">24</td>
<td align="center">8</td>
<td align="center">32</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">31</td>
<td align="center">9</td>
<td align="center">36</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">34</td>
<td align="center">10</td>
<td align="center">40</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">36</td>
<td align="center">11</td>
<td align="center">44</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">40</td>
<td align="center">12</td>
<td align="center">48</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">48</td>
<td align="center">13</td>
<td align="center">52</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">50</td>
<td align="center">14</td>
<td align="center">56</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">51</td>
<td align="center">15</td>
<td align="center">60</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">56</td>
<td align="center">16</td>
<td align="center">64</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">63</td>
<td align="center">17</td>
<td align="center">68</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">67</td>
<td align="center">18</td>
<td align="center">72</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">73</td>
<td align="center">19</td>
<td align="center">76</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">74</td>
<td align="center">20</td>
<td align="center">80</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">83</td>
<td align="center">21</td>
<td align="center">84</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">84</td>
<td align="center">22</td>
<td align="center">88</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">91</td>
<td align="center">23</td>
<td align="center">92</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">92</td>
<td align="center">24</td>
<td align="center">96</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">96</td>
<td align="center">25</td>
<td align="center">100</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
</tbody>
</table>
</div>
<div id="challenge-q2" class="section level2">
<h2>Challenge Q2</h2>
<p>Find a package in R that will tabulate sentiment scores for a set of
text.</p>
<p>These packages will return counts or percentages of words with
positive salience (e.g. <em>happiness, joy, laughed</em>) and counts or
percentages with negative salience (e.g. <em>hate, disdain,
smirk</em>).</p>
<p><strong>Which titles perform better? Those with high positive
salience? Or those with high negative salience?</strong></p>
</div>
<div id="challenge-q3" class="section level2">
<h2>Challenge Q3</h2>
<p>Put all of the steps above together into a single regression
model:</p>
<ul>
<li>Title style</li>
<li>Title length</li>
<li>Large proportion of 100 most common words</li>
</ul>
<p>Add some additional controls:</p>
<ul>
<li>Presence or absence of a subtitle</li>
<li>Length of the article (time it takes to read)</li>
<li>Months since it was published</li>
<li>The Medium community in which the blog appears:</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a><span class="fu">table</span>( d<span class="sc">$</span>publication ) <span class="sc">%&gt;%</span> <span class="fu">pander</span>()</span></code></pre></div>
<table>
<caption>Table continues below</caption>
<colgroup>
<col width="22%" />
<col width="26%" />
<col width="31%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Better Humans</th>
<th align="center">Better Marketing</th>
<th align="center">Data Driven Investor</th>
<th align="center">The Startup</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">28</td>
<td align="center">242</td>
<td align="center">778</td>
<td align="center">3041</td>
</tr>
</tbody>
</table>
<table style="width:90%;">
<colgroup>
<col width="36%" />
<col width="31%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">The Writing Cooperative</th>
<th align="center">Towards Data Science</th>
<th align="center">UX Collective</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">403</td>
<td align="center">1461</td>
<td align="center">555</td>
</tr>
</tbody>
</table>
<p>You are also free to add additional features of the titles that you
create with regular expressions.</p>
<p><strong>Q: Which factors best predict article performance
overall?</strong></p>
<p><br> <br> <br></p>
</div>
</div>
<div id="submission-instructions" class="section level1">
<h1>Submission Instructions</h1>
<p>When you have completed your assignment, knit your RMD file to
generate your rendered HTML file. Submit both your RMD and HTML
files.</p>
<p><strong>Be sure to use proper markdown formatting and whenever
possible highlight your answers so they are easy to read.</strong></p>
<p>Login to Canvas at <a href="http://canvas.asu.edu"
class="uri">http://canvas.asu.edu</a> and navigate to the assignments
tab in the course repository. Upload your zipped folder to the
appropriate lab submission link.</p>
<p>Remember to:</p>
<ul>
<li>name your files according to the convention:
<strong>Lab-##-LastName.Rmd</strong></li>
<li>show your solution, include your code.</li>
<li>do not print excessive output (like a full data set).</li>
<li>follow appropriate style guidelines (spaces between arguments,
etc.).</li>
</ul>
<p><br> <br></p>
<hr />
<p><br> <br></p>
<p><strong>Notes on Knitting</strong></p>
<p>Note that when you knit a file, it starts from a blank slate. You
might have packages loaded or datasets active on your local machine, so
you can run code chunks fine. But when you knit you might get errors
that functions cannot be located or datasets don’t exist. Be sure that
you have included chunks to load these in your RMD file.</p>
<p>Your RMD file will not knit if you have errors in your code. If you
get stuck on a question, just add <code>eval=F</code> to the code chunk
and it will be ignored when you knit your file. That way I can give you
credit for attempting the question and provide guidance on fixing the
problem.</p>
<p><strong>Markdown Trouble?</strong></p>
<p>If you are having problems with your RMD file, visit the <a
href="https://ds4ps.org/cpp-526-spr-2020/labs/r-markdown-files.html"><strong>RMD
File Styles and Knitting Tips</strong></a> manual.</p>
<p><br> <br></p>
<hr />
<p><br> <br></p>
<style>
blockquote {
    padding: 11px 22px;
    margin: 0 0 22px;
    font-size: 18px;
    border-left: 5px solid lightgray;
}
</style>
</div>

<div class="footer">
    <div class="footerFloatOuter"><br></div>
    <div class="footerFloatInner1">

       <a  href="https://ds4ps.org/">
         <img src="images/ps1-gray.png" alt="ds4ps" width="200" align="middle">
         <h4 style="text-align:center;color:white;">Data Science for<br>Public Service</h4>
       </a>

    </div>

    <div class="footerFloatInner2">

     <br>
     <ul style="list-style-type:none;">

        <li>Labs designed by <a href=https:lecy.info target="_blank">Jesse D. Lecy</a></li>
        <li>Source code is available on <a href=https://github.com/DS4PS/ target="_blank">GitHub</a></li>
        <br>
        <li>Creative Common License:</li>
        <li><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target="_blank"> (CC BY-NC-SA 4.0)</a></li>
        <br>
        <li>CPP 527 <a href="https://ds4ps.org/cpp-527-spr-2020/" target="_blank">Foundations of Data Science II</a></li>
        <li>Part of the <a href=http://ds4ps.org/ms-prog-eval-data-analytics/ target="_blank">MS in Evaluation and Analytics</a></li>
        <li>@ <a href=https://asuonline.asu.edu/online-degree-programs/graduate/program-evaluation-and-data-analytics-ms/ target="_blank">Arizona State University</a></li>
        <br>
        <li><p style="font-size:110%;color:#f0ead6;"><b>Solutions posted online</b><br>
         are in violation of ASU student policies <br>and federal copyright laws <b>&copy;</b></li>
     </ul>


    </div>

    <div class="footerFloatOuter"><br>
    </div>

</div>




<style>

blockquote {
    padding: 11px 22px;
    margin: 0 0 22px;
    font-size: 18px;
    border-left: 5px solid lightgray;
}

.footer {
  color:white;
  min-height: 450px !important;
  background-color: #696969;
  padding-bottom: 3em;
  padding-top: 3em;
  margin: auto;
}

.footer a {
  color: orange;
}

.footer body{
     font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
     font-size:calc(1.5em + 0.25vw);
     font-weight:300;line-height:1.65;
     -webkit-font-smoothing:antialiased;
     -moz-osx-font-smoothing:grayscale;
     margin-left:20%;
     margin-right:20%
}

footer.body{
     font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
     font-size:calc(1.5em + 0.25vw);
     font-weight:300;line-height:1.65;
     -webkit-font-smoothing:antialiased;
     -moz-osx-font-smoothing:grayscale;
     margin-left:20%;
     margin-right:20%
}

.footerFloatOuter {
	width: 25%;
	float: left;
}

.footerFloatInner1 {
	width: 20%;
	float: left;
	align: left;
	margin-left: 0px;
}

.footerFloatInner2 {
	width: 50%;
	float: left;
	text-align: left;
}



.footer ul li {
	font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  font-size:calc(0.55em + 0.25vw) !important;
  font-weight:300;
  line-height:1.2 !important;
  color: #FFF;
	text-transform: uppercase;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

</style>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
